(function(e){function t(t){for(var a,i,n=t[0],l=t[1],c=t[2],u=0,p=[];u<n.length;u++)i=n[u],r[i]&&p.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("c21b"),r=s.n(a);r.a},"05b0":function(e,t,s){},"0699":function(e,t,s){"use strict";var a=s("948f"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],i=(s("034f"),s("2877")),n={},l=Object(i["a"])(n,r,o,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,d=s("8c4f"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"#353438"}},[s("v-toolbar-title",[e._v("Keepr")]),s("v-spacer"),e.search?s("v-text-field",{attrs:{flat:"",label:"Search","solo-inverted":""},model:{value:e.searched,callback:function(t){e.searched=t},expression:"searched"}}):e._e(),s("v-btn",{attrs:{icon:""}},[s("v-icon",{on:{click:function(t){e.search=!e.search}}},[e._v("search")])],1),s("v-toolbar-items")],1),s("v-dialog",{attrs:{absolute:"",scrollable:"",width:"45rem",transition:"scale-transition"},model:{value:e.addkeep,callback:function(t){e.addkeep=t},expression:"addkeep"}},[s("v-card",{attrs:{dark:"",flat:""}},[s("form",{ref:"form"},[s("v-text-field",{attrs:{label:"Name",required:""},on:{submit:function(t){return t.preventDefault(),e.createkeep(t)}},model:{value:e.create.name,callback:function(t){e.$set(e.create,"name",t)},expression:"create.name"}}),s("v-text-field",{attrs:{label:"Description",required:""},model:{value:e.create.description,callback:function(t){e.$set(e.create,"description",t)},expression:"create.description"}}),s("v-text-field",{attrs:{label:"Img-URL"},model:{value:e.create.img,callback:function(t){e.$set(e.create,"img",t)},expression:"create.img"}}),s("v-btn",{attrs:{type:"submit"},on:{click:e.createkeep}},[e._v("Create")]),s("v-btn",{attrs:{type:"reset"}},[e._v("Reset")])],1)])],1),s("keep",{attrs:{filteredkeeps:e.filteredkeeps}}),s("v-speed-dial",{attrs:{fixed:"",bottom:"",left:"",right:""}},[s("v-btn",{attrs:{slot:"activator",color:"darken-2",dark:"",fab:""},slot:"activator"},[s("v-icon",[e._v("account_circle")])],1),s("v-btn",{attrs:{dark:""},on:{click:e.logout}},[e._v("Logout")]),s("dashboard"),s("v-btn",{attrs:{dark:""},on:{click:function(t){e.addkeep=!e.addkeep}}},[e._v("Add Keep")])],1)],1)},p=[],v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Dashboard")]),s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog=!1}}},[s("v-icon",[e._v("close")])],1),s("v-toolbar-title",[e._v("Dashboard")]),s("v-spacer")],1)],1)],1)],1)},h=[],m={name:"dashboard",data(){return{dialog:!1}}},f=m,k=Object(i["a"])(f,v,h,!1,null,null,null);k.options.__file="dashboard.vue";var b=k.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"keep"},e._l(e.filteredkeeps,function(t){return s("div",{key:t.id,staticClass:"card"},[s("img",{staticClass:"cardimage",attrs:{src:t.img,alt:""}}),s("div",{staticClass:"cardtext"},[s("h1",[e._v(e._s(t.name))]),s("p",[e._v(e._s(t.description))])]),s("div",{staticClass:"keepicons"},[s("i",{staticClass:"share far fa-share-square",on:{click:function(s){e.sharekeep(t)}}},[e._v(": "+e._s(t.shares))]),s("i",{staticClass:"view far fa-eye",on:{click:function(s){e.viewkeep(t)}}},[e._v(": "+e._s(t.views))]),s("i",{staticClass:"korvue fab fa-korvue",on:{click:function(s){e.addtovault(t)}}},[e._v(": "+e._s(t.keeps))]),e.user.active&&1==t.isPrivate?s("i",{staticClass:"delete far fa-trash-alt",on:{click:function(s){e.deletekeep(t.id)}}}):e._e()])])}))},_=[],w={name:"keep",data(){return{}},props:["filteredkeeps"],methods:{deletekeep(e){this.$store.dispatch("deletekeep",e)},sharekeep(e){e.shares++,this.$store.dispatch("updatekeep",e)},viewkeep(e){e.views++,this.$store.dispatch("updatekeep",e)},addtovault(e){this.$store.dispatch("addtovault",e)}},computed:{keeps(){return this.$store.state.keeps},user(){return this.$store.state.user}}},x=w,y=(s("0699"),Object(i["a"])(x,g,_,!1,null,null,null));y.options.__file="keep.vue";var $=y.exports,U={name:"home",data(){return{dashboard:!1,search:!1,searched:"",addkeep:!1,create:{name:"",description:"",img:""}}},methods:{logout(){this.$store.dispatch("logout")},createkeep(){this.$store.dispatch("addkeep",this.create)}},mounted(){this.$store.state.user.id||this.$router.push({name:"login"})},computed:{filteredkeeps:function(){return this.$store.state.keeps.filter(e=>{return e.name.match(this.searched)})}},components:{keep:$,dashboard:b}},R=U,F=(s("cccb"),Object(i["a"])(R,u,p,!1,null,null,null));F.options.__file="Home.vue";var C=F.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"#353438"}},[s("v-toolbar-title",[e._v("Keepr")]),s("v-spacer"),e.search?s("v-text-field",{attrs:{flat:"",label:"Search","solo-inverted":""},model:{value:e.searched,callback:function(t){e.searched=t},expression:"searched"}}):e._e(),s("v-btn",{attrs:{icon:""}},[s("v-icon",{on:{click:function(t){e.search=!e.search}}},[e._v("search")])],1),s("v-toolbar-items",[s("v-btn",{staticClass:"white--text",attrs:{flat:""},on:{click:function(t){e.showForms=!e.showForms}}},[e._v("Login/Register")])],1)],1),s("v-dialog",{attrs:{scrollable:"",width:"45rem",transition:"scale-transition"},model:{value:e.showForms,callback:function(t){e.showForms=t},expression:"showForms"}},[e.loginForm?s("v-card",{attrs:{dark:"",flat:""}},[s("form",{ref:"form"},[s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}},model:{value:e.creds.email,callback:function(t){e.$set(e.creds,"email",t)},expression:"creds.email"}}),s("v-text-field",{attrs:{type:"password",rules:e.passwordRules,label:"Password",required:""},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}}),s("v-btn",{attrs:{disabled:!e.valid,type:"submit"},on:{click:e.loginUser}},[e._v("Login")]),s("v-btn",{attrs:{type:"reset"}},[e._v("Reset")]),s("v-layout",{attrs:{"justify-center":""}},[e.loginForm?s("p",[e._v("No account "),s("strong",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("click")]),e._v(" to Register")]):s("p",[e._v("Already have an account "),s("strong",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("click")]),e._v(" to Login")])])],1)]):s("v-card",{attrs:{dark:"",flat:""}},[s("form",{ref:"form"},[s("v-text-field",{attrs:{rules:e.usernameRules,label:"Username",required:""},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}}),s("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),s("v-text-field",{attrs:{type:"password",rules:e.passwordRules,label:"Password",required:""},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}}),s("v-btn",{attrs:{disabled:!e.valid,type:"submit"},on:{click:e.register}},[e._v("Register")]),s("v-btn",{attrs:{type:"reset"}},[e._v("Reset")]),s("v-layout",{attrs:{"justify-center":""}},[e.loginForm?s("p",[e._v("No account "),s("strong",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("click")]),e._v(" to Register")]):s("p",[e._v("Already have an account "),s("strong",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e._v("click")]),e._v(" to Login")])])],1)])],1),s("keep",{attrs:{filteredkeeps:e.filteredkeeps}})],1)},O=[],q={name:"login",mounted(){this.$store.dispatch("authenticate")},data(){return{loginForm:!0,showForms:!1,search:!1,creds:{email:"",password:""},newUser:{email:"",password:"",username:""},searched:"",valid:!0,usernameRules:[e=>!!e||"Username is Required",e=>e&&e.length<=20||"Username must be less then 20 characters"],emailRules:[e=>!!e||"E-mail is Required",e=>/.+@.+/.test(e)||"E-mail must be valid"],passwordRules:[e=>!!e||"Password is Required",e=>e&&e.length>=5||"Password must be greater then 5 characters"]}},mounted(){this.getkeeps(),this.$store.dispatch("authenticate")},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)},clear(){this.$refs.form.reset()},getkeeps(){this.$store.dispatch("getkeeps")},wantedkeeps(){this.$store.dispatch("getsearchedkeeps",this.searched)}},computed:{filteredkeeps:function(){return this.$store.state.keeps.filter(e=>{return e.name.match(this.searched)})}},components:{keep:$}},P=q,L=(s("d6db"),Object(i["a"])(P,j,O,!1,null,null,null));L.options.__file="Login.vue";var E=L.exports;a["default"].use(d["a"]);var S=new d["a"]({routes:[{path:"/",name:"home",component:C},{path:"/login",name:"login",component:E}]}),D=s("2f62"),A=s("bc3a"),M=s.n(A);a["default"].use(D["a"]);let K=M.a.create({baseURL:"//localhost:5000/account/",timeout:3e3,withCredentials:!0}),N=M.a.create({baseURL:"//localhost:5000/api/",timeout:3e3,withCredentials:!0});var T=new D["a"].Store({state:{user:{},keeps:[]},mutations:{setUser(e,t){e.user=t},setkeeps(e,t){e.keeps=t},logout(e,t){e.user={}},updatekeeps(e,t){e.keeps.push(t)}},actions:{register({commit:e,dispatch:t},s){K.post("register",s).then(t=>{e("setUser",t.data),S.push({name:"home"})}).catch(e=>{console.log("[registration failed] :",e)})},authenticate({commit:e,dispatch:t}){K.get("authenticate").then(t=>{e("setUser",t.data),S.push({name:"home"})}).catch(e=>{console.log("not authenticated")})},login({commit:e,dispatch:t},s){K.post("login",s).then(t=>{e("setUser",t.data),S.push({name:"home"})}).catch(e=>{console.log("Login Failed")})},logout({commit:e,dispatch:t}){K.delete("logout").then(t=>{e("logout",t),S.push({name:"login"})}).catch(e=>console.error(e))},getkeeps({commit:e,dispatch:t}){N.get("keeps").then(t=>{e("setkeeps",t.data)})},addkeep({commit:e,dispatch:t},s){N.post("keeps",s).then(e=>{t("getkeeps")})},deletekeep({commit:e,dispatch:t},s){N.delete("keeps/"+s).then(e=>{t("getkeeps")})},updatekeep({commit:e,dispatch:t},s){N.put("keeps",s).then(e=>{t("getkeeps")})},getvaults({commit:e,dispatch:t}){},addvault({commit:e,dispatch:t}){},deletevault({commit:e,dispatch:t}){},updatevault({commit:e,dispatch:t}){}}}),J=s("ce5b"),H=s.n(J);s("bf40");a["default"].use(H.a),a["default"].config.productionTip=!1,new a["default"]({router:S,store:T,render:e=>e(c)}).$mount("#app")},"8f59":function(e,t,s){},"948f":function(e,t,s){},c21b:function(e,t,s){},cccb:function(e,t,s){"use strict";var a=s("8f59"),r=s.n(a);r.a},d6db:function(e,t,s){"use strict";var a=s("05b0"),r=s.n(a);r.a}});
//# sourceMappingURL=app.7f6dd7ca.js.map